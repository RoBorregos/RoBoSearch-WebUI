{"version":3,"sources":["home_page/top_bar/assets/roborregos_logo.png","home_page/top_bar/assets/roborregos_name.png","home_page/top_bar/assets/github_logo.png","home_page/file_viewer/code_viewer/CodeRequester.js","home_page/file_viewer/code_viewer/CodeViewer.react.js","home_page/file_viewer/FileViewer.react.js","home_page/ResultStruct.js","home_page/result_viewer/code_fragment/CodeFragment.react.js","home_page/result_viewer/code_fragment/FragmentFormatter.js","home_page/result_viewer/ResultDiv.react.js","home_page/result_viewer/ResultViewer.react.js","home_page/top_bar/search_box/SearchBox.react.js","home_page/top_bar/TopBar.react.js","home_page/error_notice/ErrorNotice.react.js","home_page/RequesterHelper.js","home_page/Redirecter.js","home_page/HomePage.react.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","validateAndRequestCodeWithParams","searchParams","callback","keys","every","v","includes","get","file","repo","owner","urlRequest","xhttp","XMLHttpRequest","responseType","onreadystatechange","this","readyState","DONE","toReturn","JSONObject","error","rateLimit","console","log","response","status","parseInt","getResponseHeader","warn","message","getAllResponseHeaders","open","send","requestResults","join","result","encoding","branch","url","match","code","window","atob","content","RCodeViewer","props","state","defaultSearchParams","r","setState","Component","RFileViewer","ResultStruct","fileName","filePath","fileByCommitUrl","fileByMasterUrl","commit","apiByCommitUrl","apiByMasterUrl","repositoryName","repositoryUrl","repositoryDescription","repositoryIsPrivate","repositoryIsFork","repositoryOwnerName","repositoryOwnerUser","repositoryOwnerUrl","totalAppearances","groupsMatches","GroupMatchesStruct","fragment","matches","MatchStruct","text","fragmentSpan","fileSpan","SpanStruct","absolute","startAbs","endAbs","lineColumn","startLine","startColumnOffset","endLine","endColumnOffset","RCodeFragment","onClickToOpen","bind","data","divCodeLines","groupMatches","sort","a","b","diff","i","length","j","splice","charAt","paragraphs","lastNewLine","nextMatch","indexNewLine","indexOf","nextSpans","lastPosInLine","substring","push","key","toString","className","computeSplitedAndHighlitedFragment","JSON","parse","stringify","onClick","split","RResultDiv","privateSpan","codeFragments","map","href","substr","RResultViewer","listOfResultDivs","results","resultStruct","index","onClickToOpenFile","RSearchBox","handleTyping","handleEnter","search","stringQuery","defaultQuery","event","target","value","charCode","replace","onQuery","type","onChange","onKeyPress","name","autoFocus","RTopBar","onChangeOnlyRoboRepos","onChangeUseExpSearch","onQueryInSearch","enableExpSearchSwitch","defaultOnlyRoboRepos","onlyRoboRepos","useExpSearch","defaultUseExpSearch","pageUrl","location","origin","pathname","nextOnlyRoboRepos","query","URL","set","src","roborregos_logo","alt","checked","disabled","roborregos_name","github_logo","RErrorNotice","errorMessage","onlyRoBo","jsonResult","items","path","html_url","repository","contents_url","description","fork","private","login","text_matches","text_match","groupMatch","matchStruct","indices","formatResults","setRequestHeader","Destinations","HOME","RESULTS","FILE_VIEWER","RHomePage","onClickResultToOpenFile","valuesFromURL","getValuesFromURL","urlParams","destination","params","getDestinationFromURLParams","queryResults","errorInRequest","actualDestination","onlyRobo","expSearch","validQuery","filter","e","getResultsOfSearch","bodyContent","resposeObject","App","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9cfa5e2a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/roborregos_logo.594a0cab.png\";","module.exports = __webpack_public_path__ + \"static/media/roborregos_name.ffecce74.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEzMjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQTQxNEFCQzk5QTExMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMwOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTMxOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+R7ClIwAADR5JREFUeNrsnQuwVWUVx79zeWUXNWB4RIhXCCNUVLiCQJoBlqCIYaIBUpRGltMICE6JxojSjIKlhTmkgmjkoClqcBkTHeSNIAooQkTIw3gooAKCXL39/+x1bvtezjl373P22nufc741s2ZzmXu/x/rt/T3Xt75EVVWVsVK4kiiESrRs3qI1Hp2hX4e2g5ZBW0GbiTaGNqr1Z0ehB6Efiu6CboVugW6Grt29d8/7FnD4ML+MRw9oL9FyaFOl7PZBV0GXiC4D9MMWcPBQ2+IxCNoP+u0UX2NYwq9+IbQC+hxgv2cBZw+1BR5DoddCu8e0mCugs6FPAvYeC9gb2D54jIReBW2QJy3hMejz0IcBeoEFfCLU+nhcBx0rg6V8lrXQ+6BPAXZlUQMWsMOg46HtC2yG8m/o3dJ8VxYdYMC9HI/J0I4FPhXdCB0DyHOLAjDAnonHA9DLimzNYT70FoDeWJCAAbaB9LF3RjjNiVo4zbqLfTRAHysYwIDbCY9Z0HONFcpb0CGA/E5eAwZYpv8L6Wu/ZLnWkCPSok0F6Kq8Awy4XP99DHqNZZlRnoGOAOSDeQMYcDvgMQfayfLzJBugAwH5X7EHDLjfMs6qTlPLzZfsE8iLg0y0JGC4g/FYYOFmJbTZArFhYFIvQLgj8JgJrW9Z5cTj6salpTsOHT60JjaAAfcmPKaZAnEgiFhow4GAvAeQV0UOWL7caZZL4HI5IG/P9UuulyPcwdIs2y9XRwYA8ruA/Hboo2gZLXNA1dByUJXPoH2yHV0nsoTLee5yO1oOdQp1YTbz5EQWcLlCtRL6TWv3UIWLId38rniV+ITLF2K6hRuJ0ObThYHOIAsd/s143JpjQQ9AOWigLzK3DQt9E4L1ZdO6A1qaY3259PsBBl0rA2+iZcvvDZP7Xu4Vbu8GpNuGgwjjOAAMhJ6U50A/Nc5SLTf4F6CuO1x1HYDHCzmmzz3lrkj37cAAy2b96yb3/VwOFlql2+xGPqcYx0eLXpX55ny3DvqwcXywPs5gx93QJjnmxf3kC7w4DXjtg8eZYDbrKzIVioaBPgRlXnRyX5EHYNlc9kOZO0vZP85QP9a9IoA8aZ/bAhlk4a37Bh53BGSM17z+IozBJo5HVK42znmhuAnL9AOZvsz38XeLAsp/vLDJKF42Bh40wflQ+VpbFU+HZ1GRuTK4uyNDWd6Twdu70J3Q90U5mDskfeNR+d1G0tdz0MPDaa1Fv2YcL8+zoKdn6AMnQe9F+Y5kYYPXA7JlI2Hzvaz7YHFt/UdABWLzVJqLs5kssDwKPRu6VFoEfhHrgvaIkPn+OVCu2F1snINufIFuyMUzUvphvnBBndq4IpNLbiJDQepLhc4MqCDbUJDTAzA8y5xAWl+E2R4j3xJpVb4IIK3teLQJqGicgnVK51yfqYkeFiBcyq4gEpFmO/RT6wG/UP8NEHAHYTXD8yBLmpHxCvNDK44EfcaYA66GfkbRPAjW3nLIGyGra/0AvlWhENYv+v+isVo31hNgfOp9jc4q0umWa7W0VUjzHGFX5xf8c62BKApwcrGTFRu0VEr+poyAJWzClUqZc3rTxX68x22g5eI0QBim/YKHGd2wCX0tX1UbNBCGaQEPVq7cAMtX3QaDUwLGp80AYtrRbO62fNVt0B0s26f6gq9Sznji7r17nil2umKDu5SzGZgKcD/FDJeHUKl8koliEy3p7x7ZJsMD0ttCI7TC55yj4c3dYLnWmLFwW5JeIBpnubil2ZRhF5NfcC+jFzdjqoWbsqnmvvVUpeQbCdPqJrqnUkbcEL/H4kwrk8RGGtLTDbiXUiZPxDWGY0y+YtrmCaXka3zBXZUyecRijMxGx5km0NnTD2mHQgZb8IbaLUdvAy6GPWynkHQbfsFa/sfzLDrPUqGUbmcC7qCU+GLLLXJbdSDgMqXEV1pukduqTAswXWO3WW6ehbaq1ALcSiHh7RhgfW65eZ4uEe5OhaRbEXAzhYQ/sdh8ywGFNJtpAf7I8vItB7UAa/hJ1bO8fIvGpsPJBKwRJaex5eVbNNyKG5YoFbbU8vItp2gkqgXYxs6Kic20ALfyGw2mmEVOLrbQAlyp9Da2tug8C22l4a5cWaI4pTnDcvMs7ZTS/ahEaYKtWehCFK2P4QAB71VKvNxy8ywXKKW7l4B3KiXe03KL3FY7NQGfJ+64VjKPoLlm0FkT8GalxLlc2dsirFN6G72l3c0EvEmx8IMsvzrl+4ppb0pIMNDtShlw25CxKQ9bjimbZ3ZhjD6kdTD+tBKJhvqhUgYs+FCLMq0MVYS7j2yTS5WrFSsxOhlEzEqNr5fbg6MVszgeNjJp+KWKGfGQ1Y8s0hPkeqN7+/kyN+AlypWZJLGgrZjquNiTlLNZ7AbMH44qZkbHvvst2mr5g9FxdkzK0RqAJSzuIuVK/RRv7hD79bZgkJQRytksSoY6dg9+Xgyhfo+ggj2KGC5P/IVxDWB1CGg34OdDyJgh/Oajot2LEC7rPM+Ec+nInBMA45NmxPQwjptwgPESKvzdIoLL+Cf/NEp+V7VkpbA84Qum/DWkOrOiFaj4BGi9AgZbD8qwSXMVFzRqyyz3D7UB/80454rCEOb9W+hCGOHcAoTbRaaft5vwbmc9JgxTA8anvdfdfockHHishkH+BG1bAGDPgP7FOCtJYY815tQOmZFIUcBL8HjV54oJR21MmNECuHnNLbD6Wb6B7Cb+jIKuzCOotONFxonUy1CCUXU7vWG3VzMClgLzCrvzPSTI20NOrX2SEH/fHI9R0DEme39fhl56Sl6eNXJXQ6z6V+Pc68SgY4yQH7WT4Vuw0Xm1/zORYTLuNfrLb5Dw72r9/SJZSZkpX+T5ORae18G9Jq0F7x1ajzwPhAyU26q8zqdcWinC/UqM3rnrYZMnvQJm88pAXV6DqDwAvQ0ZHHXN+RhprUJcUmYbV3i9gITbnAxewuvvfh30NTtyMcmD0o/SQ/TUGPcStEPHVFfrZLo3iTtAM3xkwhdiCDJZ40qD3gq3SBPG5vbigCvGLuIid54BQ+4qI+FGJt4yAjaYkW6qkk7YRK/zkQm3vpbAKO6r1ugOxGtp2TcMMsGHaxqjBVdmFdwnHxdzuOulK0wpdV1txxUYv+GQeD9SXxhnaYr0+sukP5BBBbSL9g1oMpjiix7XW8/7syvMtNiQ6Q2uMP7vLuRa69/ddwewH4ZyqY59xOMBVey+MK63kxnCvTGFOy8T3DoBi7AP9btXzL1Od4g+TnHYn02U9DbmWDE68z0boiEZxPtIzOCSya/q+qUSD28wR2h3ZlGAAdIkG/Gq5IrVOJne8N6CXBzuX0E6oV2VJzebvhIzwBOEjcn1C6bQG2NVFoWY4rq1cwN0oUybOJfk1bXvZFm5pREYNE6R+zj4m+zlF0s8vsHsO4cZ/xdMdjQn3jLC+3i54/FH4xy6mgL9zEeaHJm/FIFR4xLUnAyGpbtONtsv2MilyKOymcrU+vll6Z8/ZdMN5T2JXOa7XeactZ3kPzCOOxH77wtlQv9mBIbdGhPAoyRavCfxvY2FJpbLYX6d2XuiUMvSpEe402ShZCx9ifB/TYyzf7ofP38iv1cuCyYvsqkP26rIvwyP/0QMdxbq7sv22Tikj4Su9fk392fY2OdLxrXqm6Fnyf/xanVueKwQ2EZeArYGN0Zk3IMRw10ntjeqgPEGcXmQ9xv6OTjOpnVCmvS24HGacc4wrXb1M9vki0lO0XgX0GXQn0Rk4MoI4bKbulJG874ka08D8Y5cYPw5kf0ShXzI5KGgvtw52h/RoCrlyqBWE5388pZJn+hnNWkqDDVZdmryTaIoM207JFu4OQEWyC/gMdwnZPajbwDypXkGuDQCuMNh45xcqAJxBpOtxceyeGHoljPdOL5Euzzm9VU89oQdjzrkUTThjkQdc76RJRGgATh8n5lDq8Blt/Uy3zwg82GWj+GOuXFRJqPrptAmEXh0hAU4+eUG4sIcWAhbFghGYFC12SY77/32xrsHSdw34HMZUF0nXV8gEujBbBSMW4vfMY6HpaacVIBwabM+QcINHLBApo9UN+ibxopX4cJRt3SrfbECLJB5NoabCo9bdnUKXaN6us8TxR6wQD4E/TH+eYNxnOOs1BTa5EbYaLisDpq8AuwC/ahxnO5WWKbVQlt0CWIaFDlggcxoevToGG387ykX2iiZ26O9YJNNYWQYWngjLkxAf28c78TnihAu69wJNpgS5iJN6PGrOJiA0ke6j3G2BAtd6Ld9KesM3Rp25pEFKENl6cTGTfwfGv/uMPkQkmmD1K0cdX05qkJEGoGOJwahPNLCQ108drnc45/ui6C4Xl2HV0hdzmbdwvDdziSxuxmlZfMWdA5InrNNtWK1GkYrj6hs9Cztmgb+08Y517w0TvaM7dU3ssF+jXH8v3pIWXm4+WdaiwIeylSGB0/vX2KcTQG2ONwUeBpl2h9HOyaqqqqMlcIVGwW2wOV/AgwA+MQnGo+UarEAAAAASUVORK5CYII=\"","/**\n * File that contains the necessary to make the call to fetch the code and related things\n * of a file via the github api at https://api.github.com/repos\n * \n * An example to see the returned by the API:\n * https://api.github.com/repos/RoBorregos/RoboCup_RescueMaze_2019/contents/Librerias/MotoresPuentes/MotoresPuentes.h\n */\n\n/**\n * Given the URLSearchParams from the url of the page, validates that contains the necessary\n * params and makes the call to the Github API to fetch the file's data. The callback is called\n * with the results or null if error.\n * \n * @param {!URLSearchParams} searchParams\n * @param {!function(?{file: !string, repo: !string, owner: !string, branch: !string, code: !string}):undefined} callback\n */\nfunction validateAndRequestCodeWithParams(searchParams, callback) {\n  // TODO: Move this checking to a more general place in HomePage.\n  const keys = [...searchParams.keys()];\n  if (!['file', 'repo', 'owner'].every(v => keys.includes(v))) {\n    callback(null);\n    return;\n  }\n\n  const [file, repo, owner] = [\n    searchParams.get('file'),\n    searchParams.get('repo'),\n    searchParams.get('owner'),\n  ];\n\n  let fileAPIURL = [\n    \"https://api.github.com/repos\",\n    owner,\n    repo,\n    \"contents\",\n    file,\n  ].join(\"/\");\n\n  // Make the request and get the branch and file's content.\n  requestResults(fileAPIURL, result => {\n    // TODO: Return the actual error.\n    if (result.error !== null) {\n      callback(null);\n    } else {\n      if (result.JSONObject.encoding !== 'base64') {\n        callback(null);\n        return;\n      }\n      // TODO: Add a checking here if there is not ref argument.\n      let branch = result.JSONObject.url.match(/.+\\?ref=(.+)/)[1];\n      const code = window.atob(result.JSONObject.content);\n      callback({file, repo, owner, branch, code});\n    }\n  });\n}\n\n/**\n * TODO: Unify this with the one at RequestHelper.js\n *\n * @param {!string} urlRequest \n * @param {function({JSONObject: ?Object, error: ?string, rateLimit: !boolean}):undefined} callback \n */\nfunction requestResults(urlRequest, callback) {\n  const xhttp = new XMLHttpRequest();\n  xhttp.responseType = \"json\";\n\n  xhttp.onreadystatechange = function() {\n    if (this.readyState === this.DONE) {\n      const toReturn = {JSONObject: null, error: null, rateLimit: false};\n      console.log(\"json response:\");\n      console.log(this.response);\n      switch (this.status) {\n        case 200: {\n          toReturn.JSONObject = this.response;\n          break;\n        }\n\n        case 401: // Unauthorized / bad credentials\n        case 403: // Forbidden / several bad credentials / abuse rate limits (rate-limit)\n        case 400: // Bad request / bad input\n        case 422: // invalid input\n        {\n          // Let's check if a rate-limit error.\n          if (parseInt(this.getResponseHeader(\"x-ratelimit-remaining\")) === 0) {\n            toReturn.rateLimit = true;\n            console.log(\"Rate limit error; total=\" + this.getResponseHeader(\"x-ratelimit-limit\"));\n          }\n        }\n        // falls through\n\n        default: {\n          if (this.status >= 300 && this.status < 400) {\n            // Even that the redirects are okay: https://developer.github.com/v3/#http-redirects\n            // they should be done automatically: https://stackoverflow.com/questions/228225/prevent-redirection-of-xmlhttprequest\n            console.warn(\"Redirection failed. Tell the developer.\");\n          }\n          // {message, ?documentation_url, ?errors}\n          console.warn(\"Error in request: \" + this.response.message);\n          toReturn.error = this.response.message;\n        }\n      }\n      console.log(\"headers:\");\n      console.log(this.getAllResponseHeaders());\n      callback(toReturn);\n    }\n  };\n\n  xhttp.open(\"GET\", urlRequest, true);\n  xhttp.send();\n}\n\nexport {validateAndRequestCodeWithParams};\n","import React, { Component } from 'react';\n\nimport {validateAndRequestCodeWithParams} from './CodeRequester.js';\n\nclass RCodeViewer extends Component {\n  /** \n   * @param {!{defaultSearchParams: !URLSearchParams}} props \n   */\n  constructor(props) {\n    super(props);\n    /** @type {!{code: !string}} */\n    this.state = {code: \"\"};\n  }\n\n  componentDidMount() {\n    validateAndRequestCodeWithParams(\n      this.props.defaultSearchParams,\n      r => this.setState({code: r !== null ? r.code : \"\"}),\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <pre>{this.state.code}</pre>\n      </div>\n    );\n  }\n}\n\nexport default RCodeViewer;\n","import React, { Component } from 'react';\n\nimport RCodeViewer from './code_viewer/CodeViewer.react';\n\nclass RFileViewer extends Component {\n  /** \n   * @param {!{searchParams: !URLSearchParams}} props \n   */\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <RCodeViewer defaultSearchParams={this.props.searchParams} />\n      </div>\n    );\n  }\n}\n\nexport default RFileViewer;\n","class ResultStruct {\r\n  constructor() {\r\n    this.fileName = \"\";\r\n    this.filePath = \"\";\r\n    // .html_url    (same as this.fileByMasterUrl but uses commit instead of branch)\r\n    this.fileByCommitUrl = \"\";\r\n    // https://github.com/{.repository.fullname}/blob/{branch}/{.path}\r\n    this.fileByMasterUrl = \"\";\r\n\r\n    // I dont see an easy way. Only getting it from this.apiByMasterUrl\r\n    // as the ref (and only param) of .url\r\n    // Or maybe going to the branches_url and see if there is only one \"protected\" branch\r\n    // that might be the only one that github searchs on.\r\n    // --------------> default_branch ==== .repository.url api -> .default_branch   or\r\n    // --------------> default_branch ==== .repository.contents_url api -> .url (ref param)\r\n    this.branch = \"\";\r\n    // I don't see a easy way to obtain it, only the ref (and only param) of .url\r\n    this.commit = \"\";\r\n\r\n    // .url\r\n    this.apiByCommitUrl = \"\";\r\n    // .repository.contents_url{+path} = .path\r\n    // With this, grabs the default branch\r\n    this.apiByMasterUrl = \"\";\r\n\r\n    // this.content = api->.download_url [a website .txt]   or   api->.content|.encoding(base64)\r\n\r\n    this.repositoryName = \"\";\r\n    this.repositoryUrl = \"\";\r\n    this.repositoryDescription = \"\";\r\n    this.repositoryIsPrivate = false;\r\n    this.repositoryIsFork = false;\r\n    // TODO: Look for how to get this.\r\n    this.repositoryOwnerName = \"\";\r\n    this.repositoryOwnerUser = \"\";\r\n    this.repositoryOwnerUrl = \"\";\r\n\r\n    // The individual appearances, this means, how many `MatchStruct`s.\r\n    this.totalAppearances = 0;\r\n    // Of type [`GroupMatchesStruct`].\r\n    this.groupsMatches = [];\r\n  }\r\n}\r\n\r\nclass GroupMatchesStruct {\r\n  constructor() {\r\n    // The whole fragment of text that this group of results are in.\r\n    // TODO: Make this more githubapi-agnostic, making this null and\r\n    // MatchStruct::text nullable.\r\n    this.fragment = \"\";\r\n    // Of type [`MatchStruct`].\r\n    this.matches = [];\r\n  }\r\n}\r\n\r\nclass MatchStruct {\r\n  constructor() {\r\n    // The matched text. It seems that is always a \"searched-token\"...\r\n    this.text = \"\";\r\n\r\n    // Of type `SpanStruct`.\r\n    this.fragmentSpan = null;\r\n    this.fileSpan = null;\r\n  }\r\n}\r\n\r\nclass SpanStruct {\r\n  constructor() {\r\n    // The absolute index of the span, since the begining.\r\n    // 0-based.\r\n    // Start: includes, end: excludes.\r\n    this.absolute = false;\r\n    this.startAbs = 0;\r\n    this.endAbs = 0;\r\n\r\n    // Line is 1-based and columnOffset is 0-based.\r\n    // Start: includes, end: excludes.\r\n    this.lineColumn = false;\r\n    this.startLine = 0;\r\n    this.startColumnOffset = 0;\r\n    this.endLine = 0;\r\n    this.endColumnOffset = 0;\r\n  }\r\n}\r\n\r\nexport {ResultStruct, GroupMatchesStruct, MatchStruct, SpanStruct};","import React, {Component} from 'react';\r\n\r\nimport {GroupMatchesStruct} from '../../ResultStruct.js';\r\nimport {computeSplitedAndHighlitedFragment} from './FragmentFormatter.js';\r\n\r\nimport './CodeFragment.css';\r\n\r\nclass RCodeFragment extends Component {\r\n  /**\r\n   * @param {!{data: !GroupMatchesStruct, onClickToOpen: function():undefined}} props\r\n   */\r\n\tconstructor(props) {\r\n    super(props);\r\n    this.onClickToOpen = this.onClickToOpen.bind(this);\r\n  }\r\n\r\n  onClickToOpen() {\r\n    this.props.onClickToOpen();\r\n  }\r\n\r\n\trender() {\r\n    const data = this.props.data;\r\n\r\n    // const divCodeLines = \r\n    //   data.fragment.split(\"\\n\").map((stringLine, index) => (       \r\n    //     <pre key={index.toString()}>\r\n    //       {stringLine}\r\n    //     </pre>\r\n    //   ));\r\n    // TODO: Clone only the neccesary: fragment and matches.\r\n    const dataClone = JSON.parse(JSON.stringify(data));\r\n    const divCodeLines = computeSplitedAndHighlitedFragment(dataClone);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={\"fragment-div\"}>\r\n        <div className={\"code-lines-div\"} onClick={this.onClickToOpen}>\r\n          {divCodeLines}\r\n        </div>\r\n\r\n        <div className={\"footer-div\"}>\r\n          {data.fragment.split(\"\\n\").length} lines - {data.matches.length} appearances\r\n        </div>\r\n\t\t\t</div>\r\n\t\t);\r\n  }\r\n}\r\n\r\nexport default RCodeFragment;\r\n","import React from 'react';\n\nimport {GroupMatchesStruct} from '../../ResultStruct.js';\n\n/**\n * The algorithm does not use the `text` in matches. \n * Also, assumes that would be fragmentSpan != null and fragmentSpan.absolute == true.\n * \n * Note: The `GroupMatchesStruct` object is modified.\n * \n * @param {!GroupMatchesStruct} groupMatches\n * @return {!Array<!<p>>}\n */\nfunction computeSplitedAndHighlitedFragment(groupMatches) {\n  // Sort the matches to appear in order by the first in appear (start smallest)\n  // first. Then, by the most longest one (end biggest).\n  groupMatches.matches.sort((a, b) => {\n    const diff = a.fragmentSpan.startAbs - b.fragmentSpan.startAbs;\n    if (diff === 0) {\n      return -(a.fragmentSpan.endAbs - b.fragmentSpan.endAbs);\n    }\n    return diff;\n  });\n  // Join the overlapping and adjacent matches.\n  for (let i = 0; i < groupMatches.matches.length; i++) {\n    const j = i + 1;\n    while (j < groupMatches.matches.length) {\n      if (groupMatches.matches[i].fragmentSpan.endAbs >=\n        groupMatches.matches[j].fragmentSpan.startAbs) {\n        // Because the end is exclusive, it makes sense to join them if\n        // i.end==j.start because they are highligth neighbors.\n        groupMatches.matches[i].fragmentSpan.endAbs = \n          groupMatches.matches[j].fragmentSpan.endAbs;\n        groupMatches.matches.splice(j, 1);\n      } else {\n        break;\n      }\n    }\n  }\n\n  // There should be always an ending new line.\n  if (groupMatches.fragment.charAt(groupMatches.fragment.length) !== \"\\n\") {\n    groupMatches.fragment += \"\\n\";\n  }\n\n  // TODO: Reformat this code removing the while(true) with breaks everywhere,\n  // having better at the beginning of each line grabbing the the first chunk\n  // of not highlight.\n  const paragraphs = [];\n  let lastNewLine = -1;\n  let nextMatch = 0;\n  let indexNewLine = groupMatches.fragment.indexOf(\"\\n\");\n  while (indexNewLine !== -1) {\n    const nextSpans = [];\n    let lastPosInLine = lastNewLine;\n    while (true) {\n      if (nextMatch < groupMatches.matches.length &&\n        groupMatches.matches[nextMatch].fragmentSpan.startAbs < indexNewLine) {\n        nextSpans.push(\n          <span key={nextSpans.length.toString()} className={\"span-text\"}>{\n            groupMatches.fragment.substring(\n              lastPosInLine + 1, \n              groupMatches.matches[nextMatch].fragmentSpan.startAbs,\n            )\n          }</span>\n        );\n\n        // Now lets create the span for the actual highlight, checking if it ends\n        // before the endline.\n        if (groupMatches.matches[nextMatch].fragmentSpan.endAbs <= indexNewLine) {\n          nextSpans.push(\n            <span key={nextSpans.length.toString()} className={\"span-highlight\"}>{\n              groupMatches.fragment.substring(\n                groupMatches.matches[nextMatch].fragmentSpan.startAbs,\n                groupMatches.matches[nextMatch].fragmentSpan.endAbs,\n              )\n            }</span>\n          );\n          lastPosInLine = groupMatches.matches[nextMatch].fragmentSpan.endAbs - 1;\n\n          if (groupMatches.matches[nextMatch].fragmentSpan.endAbs === indexNewLine) {\n            // To avoid creating an empty span at the end, let's quit since here.\n            break;\n          }\n\n          // This match was already completed.\n          nextMatch++;\n        } else {\n          // Lets grab until the end of the line and not remove the match, to leave it\n          // to complete its \"highlighting\" in the next line(s).\n          nextSpans.push(\n            <span key={nextSpans.length.toString()} className={\"span-highlight\"}>{\n              groupMatches.fragment.substring(\n                groupMatches.matches[nextMatch].fragmentSpan.startAbs,\n                indexNewLine,\n              )\n            }</span>\n          );\n\n          // Because the sorting and joining above, we don't need to reset the\n          // `lastPosInLine`; we arrived to the end of line.\n          break;\n        }\n      } else {\n        // Let's take all the line exactly like that and keep the match for the next time.\n        const content = groupMatches.fragment.substring(lastPosInLine + 1, indexNewLine);\n        nextSpans.push(\n          <span key={nextSpans.length.toString()} className={\"span-text\"}>{\n            // If the line is empty, lets put something to hold the space.\n            // Also, use space instead of \"&nbsp;\" because we use \"pre\"-like style.\n            content.length === 0 && nextSpans.length === 0 ? \" \" : content\n          }</span>\n        );\n\n        break;\n      }\n    }\n    paragraphs.push(\n      <p key={paragraphs.length.toString()} className={\"code-line\"}>{nextSpans}</p>\n    );\n\n    lastNewLine = indexNewLine;\n    indexNewLine = groupMatches.fragment.indexOf(\"\\n\", lastNewLine + 1);\n  }\n\n  return paragraphs;\n}\n\nexport {computeSplitedAndHighlitedFragment};\n","import React, { Component } from 'react';\r\n\r\nimport RCodeFragment from './code_fragment/CodeFragment.react.js'\r\n\r\nimport './ResultDiv.css';\r\n\r\nclass RResultDiv extends Component {\r\n  /**\r\n   * @param {!{data: !ResultStruct, onClickToOpen: !function(!string, !string, !string):undefined}} props\r\n   */\r\n\tconstructor(props) {\r\n    super(props);\r\n    this.onClickToOpen = this.onClickToOpen.bind(this);\r\n  }\r\n\r\n  onClickToOpen() {\r\n    this.props.onClickToOpen(\r\n      this.props.data.repositoryOwnerUser,\r\n      this.props.data.repositoryName,\r\n      this.props.data.filePath,\r\n    );\r\n  }\r\n\r\n\trender() {\r\n    const data = this.props.data;\r\n\r\n    const privateSpan = data.repositoryIsPrivate ? <span>PRIVATE</span> : null;\r\n\r\n    const codeFragments = data.groupsMatches.map((match, key) => {\r\n      return <RCodeFragment \r\n        key={key.toString()} \r\n        data={match} \r\n        onClickToOpen={this.onClickToOpen} \r\n        />\r\n    });\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"result-div\">\r\n        <div className=\"header-result-div\">\r\n          <div className=\"user-repo-div\">\r\n            <a className=\"repository-link\" href={data.repositoryUrl}>\r\n              {data.repositoryOwnerUser}/{data.repositoryName} \r\n            </a>\r\n            <span className=\"branch-span\"> (master-{data.commit.substr(0, 7)})</span>\r\n          </div>\r\n          <div className=\"path-file-div\">\r\n            <span className=\"path-file-span\" onClick={this.onClickToOpen}>\r\n              {data.filePath}\r\n            </span>\r\n            {privateSpan !== null ? <span>&nbsp;[{privateSpan}]</span> : <span />}\r\n          </div>\r\n          <div className=\"github-link-div\">\r\n            <a className=\"github-file-link\" href={data.fileByCommitUrl}>\r\n              GITHUB\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"num-appearances-div\">{data.totalAppearances} appearances</div>\r\n\r\n        <div className=\"fragments-container-div\">\r\n          {codeFragments}\r\n        </div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default RResultDiv;\r\n","import React, { Component } from 'react';\r\n\r\nimport ResultStruct from '../ResultStruct.js'\r\nimport RResultDiv from './ResultDiv.react.js';\r\n\r\nclass RResultViewer extends Component {\r\n  /**\r\n   * @param {!{results: !Array<!ResultStruct>, onClickToOpenFile: !function(!string, !string, !string):undefined}} props\r\n   */\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n    const listOfResultDivs = this.props.results.map((resultStruct, index) => {\r\n      return <RResultDiv \r\n        key={index.toString()} \r\n        data={resultStruct} \r\n        onClickToOpen={this.props.onClickToOpenFile} \r\n        />;\r\n    });\r\n\r\n\t\treturn <div> {listOfResultDivs}</div>;\r\n\t}\r\n}\r\n\r\nexport default RResultViewer;\r\n","import React, { Component } from 'react';\r\n\r\nimport './SearchBox.css';\r\n\r\nclass RSearchBox extends Component {\r\n  /**\r\n   * @param {!{defaultQuery: !string, onQuery: function(string): undefined}} props \r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleTyping = this.handleTyping.bind(this);\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n    this.search = this.search.bind(this);\r\n\r\n    this.state = {stringQuery: props.defaultQuery};\r\n  }\r\n\r\n  handleTyping(event) {\r\n    this.setState({stringQuery: event.target.value});\r\n  }\r\n\r\n  handleEnter(event) {\r\n    // Check for an enter.\r\n    if (event.charCode === 13) {\r\n      this.search();\r\n    }\r\n  }\r\n\r\n  search() {\r\n    if (this.state.stringQuery.replace(/ /g, \"\").length > 0) {\r\n      console.log(\"Value in searchbox: \" + this.state.stringQuery);\r\n      this.props.onQuery(this.state.stringQuery);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={\"search-box-div\"}>\r\n        <input \r\n          type=\"text\" \r\n          value={this.state.stringQuery} \r\n          onChange={this.handleTyping} \r\n          onKeyPress={this.handleEnter} \r\n          name=\"inputQuery\" \r\n          autoFocus\r\n          className={\"search-box-input\"}\r\n        />\r\n        <input \r\n          type=\"button\" \r\n          value=\"GO\" \r\n          name=\"submitQuery\"\r\n          onClick={this.search}\r\n          className={\"search-box-input\"}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RSearchBox;\r\n","import React, { Component } from 'react';\n\nimport RSearchBox from './search_box/SearchBox.react.js'\n\nimport './TopBar.css';\n\nimport roborregos_logo from './assets/roborregos_logo.png'\nimport roborregos_name from './assets/roborregos_name.png'\nimport github_logo from './assets/github_logo.png'\n\nclass RTopBar extends Component {\n  /**\n   * @param {!{defaultQuery: !string, defaultOnlyRoboRepos: !boolean, defaultUseExpSearch: !boolean}} props\n   */\n  constructor(props) {\n    super(props);\n    this.onChangeOnlyRoboRepos = this.onChangeOnlyRoboRepos.bind(this);\n    this.onChangeUseExpSearch = this.onChangeUseExpSearch.bind(this);\n    this.onQueryInSearch = this.onQueryInSearch.bind(this);\n\n    this.state = {\n      enableExpSearchSwitch: props.defaultOnlyRoboRepos, \n      onlyRoboRepos: props.defaultOnlyRoboRepos,\n      useExpSearch: props.defaultUseExpSearch && props.defaultOnlyRoboRepos,\n      // To avoid problems with react knowing if the object window.location changed,\n      // init once this data.\n      // TODO: Check if there is a safer way to do this.\n      pageUrl: window.location.origin + window.location.pathname,\n    };\n  }\n\n  onChangeOnlyRoboRepos() {\n    const nextOnlyRoboRepos = !this.state.onlyRoboRepos;\n    this.setState({\n      onlyRoboRepos: nextOnlyRoboRepos,\n      useExpSearch: nextOnlyRoboRepos ? this.state.useExpSearch : false,\n      enableExpSearchSwitch: nextOnlyRoboRepos,\n    });\n  }\n\n  onChangeUseExpSearch() {\n    this.setState({useExpSearch: !this.state.useExpSearch});\n  }\n\n  /**\n   * @param {!string} query \n   */\n  onQueryInSearch(query) {\n    const url = new URL(window.location.origin + window.location.pathname);\n    url.searchParams.set(\"q\", query);\n    url.searchParams.set(\"robo\", this.state.onlyRoboRepos);\n    url.searchParams.set(\"exp\", this.state.useExpSearch);\n    console.log(\"Going for query at:\" + url.toString());\n\n    window.location.href = url.toString();\n  }\n\n  render() {\n    return (\n      <div className={\"top-bar-div\"}>\n        <div className={\"name-div\"}>\n          <a href={this.state.pageUrl}>\n            <img src={roborregos_logo} className={\"img-logo\"} alt=\"roborregos logo\" />\n            <span className={\"title-name\"}>RoBoSearch</span>\n            <span className={\"title-beta\"}>beta</span>\n          </a>\n        </div>\n\n        <div className={\"search-switch-div\"}>\n          <RSearchBox defaultQuery={this.props.defaultQuery} onQuery={this.onQueryInSearch} />\n\n          <div className={\"switchs-div\"}>\n            <input \n              name=\"onlyRoboRepos\" \n              type=\"checkbox\" \n              onChange={this.onChangeOnlyRoboRepos} \n              checked={this.state.onlyRoboRepos}\n            /> \n            Only RoBorregos Repos\n            <input \n              name=\"useExpSearch\"\n              onChange={this.onChangeUseExpSearch}\n              type=\"checkbox\" \n              disabled={!this.state.enableExpSearchSwitch}\n              checked={this.state.useExpSearch}\n            /> \n            Use Experimental Search\n          </div>\n        </div>\n\n        <div className={\"by-div\"}>\n          <a href=\"https://roborregos.com\"> \n            <img src={roborregos_name} className={\"img-name\"} alt=\"roborregos name\" />\n          </a>\n          <span className={\"vertical-line\"}>|</span>\n          <a href=\"https://github.com/RoBorregos\"> \n            <img src={github_logo} className={\"github-img\"} alt=\"roborregos github\" />\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RTopBar;\n","import React, { Component } from 'react';\n\nimport './ErrorNotice.css';\n\nclass RErrorNotice extends Component {\n  /** \n   * @param {!{error: ?string, rateLimit: !boolean}} props \n   */\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    if (this.props.error === null && !this.props.rateLimit) {\n      return <div />;\n    }\n\n    const errorMessage = this.props.rateLimit ? \n      \"Limit of requests exceeded, try again in a minute.\" :\n      this.props.error;\n    return (\n      <div className={\"error-notice-div\"}>\n        <p className={\"error-paragraph\"}>\n          There has been an error while making the request. Try again.\n        </p>\n        <p className={\"error-paragraph\"}><code>{errorMessage}</code></p>\n      </div>\n    );\n  }\n}\n\nexport default RErrorNotice;\n","import {ResultStruct, GroupMatchesStruct, MatchStruct, SpanStruct} from './ResultStruct.js'\r\n\r\n/**\r\n * \r\n * @param {!string} stringQuery \r\n * @param {!boolean} onlyRoBo\r\n * @param {function({results: !Array<ResultStruct>, error: ?string, rateLimit: !boolean}):undefined} callback \r\n */\r\nfunction requestResults(stringQuery, onlyRoBo, callback) {\r\n  const xhttp = new XMLHttpRequest();\r\n  xhttp.responseType = \"json\";\r\n\r\n  xhttp.onreadystatechange = function() {\r\n    if (this.readyState === this.DONE) {\r\n      const toReturn = {results: [], error: null, rateLimit: false};\r\n      console.log(\"json response:\");\r\n      console.log(this.response);\r\n      switch (this.status) {\r\n        case 200: {\r\n          toReturn.results = formatResults(this.response);\r\n          break;\r\n        }\r\n\r\n        case 401: // Unauthorized / bad credentials\r\n        case 403: // Forbidden / several bad credentials / abuse rate limits (rate-limit)\r\n        case 400: // Bad request / bad input\r\n        case 422: // invalid input\r\n        {\r\n          // Let's check if a rate-limit error.\r\n          if (parseInt(this.getResponseHeader(\"x-ratelimit-remaining\")) === 0) {\r\n            toReturn.rateLimit = true;\r\n            console.log(\"Rate limit error; total=\" + this.getResponseHeader(\"x-ratelimit-limit\"));\r\n          }\r\n        }\r\n        // falls through\r\n\r\n        default: {\r\n          if (this.status >= 300 && this.status < 400) {\r\n            // Even that the redirects are okay: https://developer.github.com/v3/#http-redirects\r\n            // they should be done automatically: https://stackoverflow.com/questions/228225/prevent-redirection-of-xmlhttprequest\r\n            console.warn(\"Redirection failed. Tell the developer.\");\r\n          }\r\n          // {message, ?documentation_url, ?errors}\r\n          console.warn(\"Error in request: \" + this.response.message);\r\n          toReturn.error = this.response.message;\r\n        }\r\n      }\r\n      console.log(\"headers:\");\r\n      console.log(this.getAllResponseHeaders());\r\n      callback(toReturn);\r\n    }\r\n  };\r\n\r\n  // TODO: Maybe check if use POST instead, using a FormData object.\r\n  const url = new URL(\"https://api.github.com/search/code\");\r\n  url.searchParams.set(\"q\", stringQuery + (onlyRoBo ? \"+org:roborregos\" : \"\"));\r\n  url.searchParams.set(\"per_page\", \"15\");\r\n  xhttp.open(\"GET\", url.toString(), true);\r\n  xhttp.setRequestHeader(\"Accept\", \"application/vnd.github.v3.text-match+json\");\r\n  xhttp.send();\r\n}\r\n\r\n/**\r\n * Test if is a valid query.\r\n * Specifically, check the query to be smaller than 256 - \"+org:roborregos\".length \r\n * and have less than 5 logical operands.\r\n * \r\n * https://developer.github.com/v3/search/#limitations-on-query-length\r\n * \r\n * @param {!string} query\r\n * @return {!boolean} \r\n */\r\nfunction checkQuery(query) {\r\n  return query.length <= 256 - \"+org:roborregos\".length &&\r\n    query.split(/\\s+/g).filter(e => [\"AND\", \"OR\", \"NOT\"].includes(e)).length \r\n      <= 5;\r\n}\r\n\r\n/**\r\n * \r\n * @param {!string} jsonResult \r\n * @returns {!Array<ResultStruct>}\r\n */\r\nfunction formatResults(jsonResult) {\r\n  const results = [];\r\n  for (const file of jsonResult.items) {\r\n    const resultStruct = new ResultStruct();\r\n    \r\n    resultStruct.fileName = file.name;\r\n    resultStruct.filePath = file.path;\r\n    resultStruct.fileByCommitUrl = file.html_url;\r\n    // resultStruct.fileByMasterUrl = ?\r\n\r\n    // this.branch = ?\r\n    resultStruct.commit = new URL(file.url).searchParams.get(\"ref\");\r\n\r\n    resultStruct.apiByCommitUrl = file.url;\r\n    resultStruct.apiByMasterUrl = file.repository.contents_url.replace(\"{+path}\", file.path);\r\n\r\n\r\n    resultStruct.repositoryName = file.repository.name;\r\n    resultStruct.repositoryUrl = file.repository.html_url;\r\n    // The description can be not set, and github api says then `null`.\r\n    resultStruct.repositoryDescription = file.repository.description || \"\";\r\n    resultStruct.repositoryIsFork = file.repository.fork;\r\n    resultStruct.repositoryIsPrivate = file.repository.private;\r\n\r\n    resultStruct.repositoryOwnerUser = file.repository.owner.login;\r\n    resultStruct.repositoryOwnerUrl = file.repository.owner.html_url;\r\n\r\n\r\n    for (const text_match of file.text_matches) {\r\n      const groupMatch = new GroupMatchesStruct();\r\n\r\n      groupMatch.fragment = text_match.fragment;\r\n\r\n      for (const match of text_match.matches) {\r\n        const matchStruct = new MatchStruct();\r\n\r\n        matchStruct.text = match.text;\r\n        // The response is 0-based, start=inclusive, end=exclusive.\r\n        matchStruct.fragmentSpan = new SpanStruct();\r\n        matchStruct.fragmentSpan.absolute = true;\r\n        matchStruct.fragmentSpan.startAbs = match.indices[0];\r\n        matchStruct.fragmentSpan.endAbs = match.indices[1];\r\n\r\n        groupMatch.matches.push(matchStruct);\r\n        \r\n        resultStruct.totalAppearances++;\r\n      }\r\n\r\n      resultStruct.groupsMatches.push(groupMatch);\r\n    }\r\n\r\n    results.push(resultStruct);\r\n  }\r\n\r\n  return results;\r\n}\r\n\r\nexport {requestResults, checkQuery};\r\n","/**\n * File that contains some utils to, from the URL's params, render the\n * correct content.\n */\n\n/**\n * An Enum (Object of strings) to be use like that contains the destinations\n * of redirections.\n */\nconst Destinations = {\n  HOME: \"home\",\n  RESULTS: \"results\",\n  FILE_VIEWER: \"file_viewer\",\n};\n\n/**\n * @param {!URLSearchParams} params\n * @return {!string} A value of `Destinations`.\n */\nfunction getDestinationFromURLParams(params) {\n  const keys = [...params.keys()];\n\n  if (['file', 'repo', 'owner'].every(v => keys.includes(v))) {\n    return Destinations.FILE_VIEWER;\n  } else if (['q'].every(v => keys.includes(v))) {\n    return Destinations.RESULTS;\n  } else {\n    return Destinations.HOME;\n  }\n}\n\nexport {Destinations, getDestinationFromURLParams};\n","import React, { Component } from 'react';\r\n\r\nimport RFileViewer from './file_viewer/FileViewer.react';\r\nimport RResultViewer from './result_viewer/ResultViewer.react.js';\r\nimport RTopBar from './top_bar/TopBar.react';\r\nimport RErrorNotice from './error_notice/ErrorNotice.react.js';\r\nimport {requestResults, checkQuery} from './RequesterHelper.js';\r\nimport {Destinations, getDestinationFromURLParams} from './Redirecter.js';\r\nimport {ResultStruct} from './ResultStruct.js';\r\n\r\nimport './HomePage.css';\r\n\r\n/**\r\n * Note: This component does NOT update on props changes. It forever uses the first props\r\n * passed. At the beginning was because it was meant to be called only once each page load.\r\n * Now, is also because `RTopBar`'s default-props.\r\n * \r\n * TODO: When the migration of the ResulViewer to its file finishes, change this to make\r\n * render correctly depend on props. Maybe using `getDerivedStateFromProps()` to make \r\n * it cleaner.\r\n */\r\nclass RHomePage extends Component {\r\n  /** @param {!{urlParams: !URLSearchParams}} props */\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClickResultToOpenFile = this.onClickResultToOpenFile.bind(this);\r\n\r\n    const valuesFromURL = this.getValuesFromURL(props.urlParams);\r\n    const destination = getDestinationFromURLParams(props.urlParams);\r\n    /** @type {!{query: !string, onlyRobo: !boolean, expSearch: !boolean, queryResults: !Array<!ResultStruct>, errorInRequest: ?{error: ?string, rateLimit: !boolean}, actualDestination: !string}} */\r\n    this.state = {\r\n      ...valuesFromURL,\r\n      queryResults: [],\r\n      errorInRequest: null,\r\n      actualDestination: destination,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param {!string} owner\r\n   * @param {!string} repo\r\n   * @param {!string} file\r\n   */\r\n  onClickResultToOpenFile(owner, repo, file) {\r\n    const url = new URL(window.location.origin + window.location.pathname);\r\n\r\n    url.searchParams.set(\"q\", this.state.query);\r\n    url.searchParams.set(\"robo\", this.state.onlyRobo);\r\n    url.searchParams.set(\"exp\", this.state.expSearch);\r\n    url.searchParams.set(\"owner\", owner);\r\n    url.searchParams.set(\"repo\", repo);\r\n    url.searchParams.set(\"file\", file);\r\n\r\n    console.log(\"File at:\" + url.toString());\r\n    window.location.href = url.toString();\r\n  }\r\n\r\n  componentDidMount() {\r\n    // TODO: Move the logic specific to results toResultViewer.\r\n    if (this.state.actualDestination === Destinations.RESULTS) {\r\n      const validQuery = checkQuery(this.state.query);\r\n      this.setState({\r\n        errorInRequest: validQuery ? null : {error: \"Invalid query\", rateLimit: false},\r\n      });\r\n\r\n      if (validQuery) {\r\n        this.getResultsOfSearch(this.state.query, this.state.onlyRobo);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let bodyContent;\r\n    switch(this.state.actualDestination) {\r\n      case Destinations.RESULTS: {\r\n        bodyContent = this.state.errorInRequest === null ?\r\n          <RResultViewer \r\n            results={this.state.queryResults} \r\n            onClickToOpenFile={this.onClickResultToOpenFile}\r\n          /> :\r\n          <RErrorNotice \r\n            error={this.state.errorInRequest.error} \r\n            rateLimit={this.state.errorInRequest.rateLimit} \r\n          />;\r\n        console.log(\"Navigation= Results\");\r\n        break;\r\n      }\r\n\r\n      case Destinations.FILE_VIEWER: {\r\n        bodyContent = <RFileViewer searchParams={this.props.urlParams} />;\r\n        console.log(\"Navigation= File viewer\");\r\n        break;\r\n      }\r\n\r\n      // Destinations.HOME\r\n      default: {\r\n        bodyContent = <div />;\r\n        console.log(\"Navigation= Home\");\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className={\"homepage-div\"}>\r\n        <div className={\"homepage-top-div\"}>\r\n          <RTopBar \r\n            defaultQuery={this.state.query} \r\n            defaultOnlyRoboRepos={this.state.onlyRobo} \r\n            defaultUseExpSearch={this.state.expSearch} \r\n          />\r\n        </div>\r\n        <div className={\"homepage-content-div\"}>\r\n          {bodyContent}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getValuesFromURL(urlParams) {\r\n    const query = urlParams.get(\"q\") || \"\";\r\n    // TODO: Include here selecting the default values.\r\n    const onlyRobo = urlParams.get(\"robo\") !== \"false\";\r\n    const expSearch = urlParams.get(\"exp\") !== \"false\";\r\n\r\n    const state = {query, onlyRobo, expSearch};\r\n    console.log(\"Value from URL: \");\r\n    console.log(state);\r\n\r\n    return state;\r\n  }\r\n\r\n  /**\r\n   * @param {!string} query\r\n   * @param {!boolean} onlyRoboRepos \r\n   */\r\n  getResultsOfSearch(query, onlyRoboRepos) { \r\n    if (query.replace(/\\s/g, \"\").length > 0) {\r\n      requestResults(query, onlyRoboRepos, (resposeObject) => {\r\n        console.log(resposeObject);\r\n        if (resposeObject.error === null) {\r\n          this.setState({\r\n            queryResults: resposeObject.results,\r\n            errorInRequest: null,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            errorInRequest: {\r\n              error: resposeObject.error, \r\n              rateLimit: resposeObject.rateLimit,\r\n            },\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default RHomePage;\r\n","import React, { Component } from 'react';\n\nimport RHomePage from './home_page/HomePage.react.js'\n\n/**\n * TODO: Review if this component is really necessary. Maybe could be the one\n * that calls Redirecter.js.\n */\nclass App extends Component {\n  /** @param {!{url: !URL}} props */\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return <RHomePage urlParams={this.props.url.searchParams} />;\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App url={new URL(window.location.href)} />, \n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}